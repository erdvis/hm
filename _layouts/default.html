<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">

{%- include head.html -%}

<body class="{% if site.darkmode == true and site.darkmode != 'never' %}dark{% endif %}">
  
  {%- include header.html -%}

  <main class="page-content" aria-label="Content">
    <div class="wrapper">      
      <button id="download-button">Download as PDF</button>
    </div>
  </main>

  
  <script src="https://www.princexml.com/prince.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>


 <script>
    const downloadButton = document.getElementById('download-button');
    downloadButton.addEventListener('click', () => {
        downloadButton.style.display = "none"; // hide the download button before taking the screenshot
        const content = document.documentElement.outerHTML;
        const blob = new Blob([content], { type: 'application/pdf' });
        saveAs(blob, 'cv.pdf');
        downloadButton.style.display = "block"; // show the download button after the PDF is saved
    });
 </script>

 {%- if jekyll.environment == 'production' and site.gtm -%}
   {%- include gtm_body.html -%}
 {%- endif -%}

 {%- include about.html -%}

 {%- if site.data.experience.size > 0 -%}
   {%- include experience.html -%}
 {%- endif -%}

 {%- if site.data.education.size > 0 -%}
   {%- include education.html -%}
 {%- endif -%}

 {%- if site.more_content -%}
   {%- include more.html -%}
 {%- endif -%}

 {%- include footer.html -%}
 
 {% if site.darkmode == false %}
   <script src="{{ '/assets/js/index.js' | relative_url }}"></script>
 {% endif %}
 
</body>
</html>
